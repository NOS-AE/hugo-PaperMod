<script data-goatcounter="https://{{- site.Params.analytics.goatcounter.domain -}}/count" async src="//gc.zgo.at/count.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const pv = document.getElementById('pageviews-count');
        if (pv != null) {
            const uri = location.pathname.replace(/\/$/, '');
            const url = `https://{{ site.Params.analytics.goatcounter.domain }}/counter/${encodeURIComponent(uri)}.json`;
            fetch(url)
                .then(response => response.json())
                .then(data => {
                    pv.textContent = `${data.count}`;
                })
                .catch(error => {
                    console.error('[goatcounter]Error fetching pageviews:', error);
                })
        }
    })
</script>